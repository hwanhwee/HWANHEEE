import streamlit as st
from streamlit_option_menu import option_menu
import plotly.express as px
import plotly.graph_objects as go
from PIL import Image
import numpy as np

# í˜ì´ì§€ ì„¤ì •
st.set_page_config(
    page_title="ì¡°í™˜í¬ ë””ì§€í„¸ í¬íŠ¸í´ë¦¬ì˜¤",
    page_icon="ğŸ ",
    layout="wide"
)

# ì‚¬ì´ë“œë°” ë©”ë‰´
with st.sidebar:
    selected = option_menu(
        menu_title="ë©”ë‰´",
        options=["í™ˆ", "í”„ë¡œì íŠ¸", "3D ë·°ì–´", "ì—°ë½ì²˜"],
        icons=["house", "folder", "cube", "envelope"],
        menu_icon="cast",
        default_index=0,
    )

# í™ˆ í˜ì´ì§€
if selected == "í™ˆ":
    st.title("ì¡°í™˜í¬ ë””ì§€í„¸ í¬íŠ¸í´ë¦¬ì˜¤")
    
    # ì†Œê°œ ì„¹ì…˜
    st.write("""
    ### ì•ˆë…•í•˜ì„¸ìš”, ì‹¤ë‚´ê±´ì¶•í•™ì„ ì „ê³µí•œ ì¡°í™˜í¬ì…ë‹ˆë‹¤.
    ì´ í¬íŠ¸í´ë¦¬ì˜¤ëŠ” ì œê°€ í•™ë¶€ì—ì„œ ì§„í–‰í•œ ë‹¤ì–‘í•œ í”„ë¡œì íŠ¸ì™€ ì‘í’ˆë“¤ì„ ì†Œê°œí•©ë‹ˆë‹¤.
    """)
    
    # ì£¼ìš” í”„ë¡œì íŠ¸ ì„¹ì…˜
    st.header("ì£¼ìš” í”„ë¡œì íŠ¸")
    projects = [
        {
            "title": "ì‹¤ë‚´ê±´ì¶•ìŠ¤íŠœë””ì˜¤(1)-2í•™ë…„",
            "description": "X-RAY ë·°ì–´ & Walk-through ëª¨ë“œ",
            "image": "static/images/compact_house_thumbnail.PNG"
        },
        {
            "title": "ì‹¤ë‚´ê±´ì¶•ìŠ¤íŠœë””ì˜¤(2)-3í•™ë…„",
            "description": "ê³µê°„ ì„¤ê³„ í”„ë¡œì íŠ¸",
            "image": "static/images/exhibition2_thumbnail.jpg"
        },
        {
            "title": "ì‹¤ë‚´ê±´ì¶•ìŠ¤íŠœë””ì˜¤(3)-4í•™ë…„",
            "description": "ì¡¸ì—… ì‘í’ˆ",
            "image": "static/images/exhibition3_thumbnail.jpg"
        }
    ]
    
    cols = st.columns(3)
    for idx, project in enumerate(projects):
        with cols[idx]:
            try:
                st.image(project["image"], caption=project["title"])
            except:
                st.write("ì´ë¯¸ì§€ ì¤€ë¹„ ì¤‘...")
            st.write(f"**{project['title']}**")
            st.write(project["description"])

# í”„ë¡œì íŠ¸ í˜ì´ì§€
elif selected == "í”„ë¡œì íŠ¸":
    st.title("í”„ë¡œì íŠ¸ ìƒì„¸")
    
    # í”„ë¡œì íŠ¸ 1
    st.header("ì‹¤ë‚´ê±´ì¶•ìŠ¤íŠœë””ì˜¤(1)-2í•™ë…„")
    st.write("""
    ### X-RAY ë·°ì–´ & Walk-through ëª¨ë“œ
    ì´ í”„ë¡œì íŠ¸ëŠ” ì‹¤ë‚´ ê³µê°„ì˜ êµ¬ì¡°ë¥¼ ì´í•´í•˜ê³  ì‹œê°í™”í•˜ëŠ” ë„êµ¬ë¥¼ ê°œë°œí–ˆìŠµë‹ˆë‹¤.
    """)
    
    # ì›Œí¬ìŠ¤ë£¨ ì˜ìƒ ì¶”ê°€
    st.subheader("ì›Œí¬ìŠ¤ë£¨ ì˜ìƒ")
    try:
        st.image("static/images/ì›Œí¬ìŠ¤ë£¨ì˜ìƒ(1).gif", caption="3D ëª¨ë¸ ì›Œí¬ìŠ¤ë£¨")
    except Exception as e:
        st.write(f"ì´ë¯¸ì§€ ë¡œë”© ì¤‘... (ì˜¤ë¥˜: {str(e)})")
    
    st.write("""
    #### ì£¼ìš” ê¸°ëŠ¥
    - X-RAY ë·°ì–´: ë²½ì„ íˆ¬ê³¼í•˜ì—¬ ê³µê°„ êµ¬ì¡°ë¥¼ ë³¼ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥
    - Walk-through ëª¨ë“œ: ì‹¤ì œ ê³µê°„ì„ ê±·ëŠ” ê²ƒì²˜ëŸ¼ ì²´í—˜í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥
    
    #### ì‚¬ìš© ê¸°ìˆ 
    - Three.js
    - WebGL
    - JavaScript
    """)
    
    # í”„ë¡œì íŠ¸ 2
    st.header("ì‹¤ë‚´ê±´ì¶•ìŠ¤íŠœë””ì˜¤(2)-3í•™ë…„")
    st.write("""
    ### ê³µê°„ ì„¤ê³„ í”„ë¡œì íŠ¸
    ë‹¤ì–‘í•œ ê³µê°„ì˜ íŠ¹ì„±ì„ ê³ ë ¤í•œ ì„¤ê³„ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.
    
    #### ì£¼ìš” ë‚´ìš©
    - ê³µê°„ ë¶„ì„
    - ì‚¬ìš©ì í–‰ë™ íŒ¨í„´ ì—°êµ¬
    - ê³µê°„ êµ¬ì„± ë° ë°°ì¹˜
    - ì¬ë£Œ ë° ìƒ‰ì±„ ê³„íš
    
    #### ê²°ê³¼ë¬¼
    - í‰ë©´ë„
    - ì…ë©´ë„
    - ë‹¨ë©´ë„
    - 3D ë Œë”ë§
    """)
    
    # í”„ë¡œì íŠ¸ 3
    st.header("ì‹¤ë‚´ê±´ì¶•ìŠ¤íŠœë””ì˜¤(3)-4í•™ë…„")
    st.write("""
    ### ì¡¸ì—… ì‘í’ˆ
    í•™ë¶€ ê³¼ì •ì˜ ë§ˆì§€ë§‰ í”„ë¡œì íŠ¸ë¡œ, ì§€ê¸ˆê¹Œì§€ ë°°ìš´ ëª¨ë“  ê²ƒì„ ì¢…í•©í•œ ì‘í’ˆì…ë‹ˆë‹¤.
    
    #### ì£¼ì œ
    - í˜„ëŒ€ ì‚¬íšŒì˜ ë¬¸ì œì ì„ í•´ê²°í•˜ëŠ” ê³µê°„ ì„¤ê³„
    - ì§€ì†ê°€ëŠ¥í•œ ë””ìì¸
    - ì‚¬ìš©ì ì¤‘ì‹¬ ê³µê°„ êµ¬ì„±
    
    #### íŠ¹ì§•
    - í˜ì‹ ì ì¸ ê³µê°„ êµ¬ì„±
    - ì¹œí™˜ê²½ ì†Œì¬ ì‚¬ìš©
    - ì‚¬ìš©ì ê²½í—˜ ìµœì í™”
    """)

# 3D ë·°ì–´ í˜ì´ì§€
elif selected == "3D ë·°ì–´":
    st.title("3D ëª¨ë¸ ê°¤ëŸ¬ë¦¬")
    
    # Sketchfab ì„ë² ë“œ
    st.write("""
    ### í”„ë¡œì íŠ¸ 3D ëª¨ë¸
    ì•„ë˜ 3D ëª¨ë¸ì„ ë§ˆìš°ìŠ¤ë¡œ íšŒì „í•˜ê³  í™•ëŒ€/ì¶•ì†Œí•˜ì—¬ ì‚´í´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    """)
    
    # Sketchfab iframe
    st.components.v1.iframe(
        "https://sketchfab.com/3d-models/model-colored-e1367b99316e4c3fa0ce5737abd648bf/embed",
        height=600,
        scrolling=False
    )
    
    st.write("""
    #### ì‚¬ìš© ë°©ë²•
    1. ë§ˆìš°ìŠ¤ ì™¼ìª½ ë²„íŠ¼ ë“œë˜ê·¸: ëª¨ë¸ íšŒì „
    2. ë§ˆìš°ìŠ¤ íœ : í™•ëŒ€/ì¶•ì†Œ
    3. ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ ë²„íŠ¼ ë“œë˜ê·¸: ì´ë™
    4. ë”ë¸” í´ë¦­: ì´ˆê¸°í™”
    
    #### ì§€ì› í˜•ì‹
    - GLB
    - GLTF
    - OBJ
    """)

# ì—°ë½ì²˜ í˜ì´ì§€
elif selected == "ì—°ë½ì²˜":
    st.title("ì—°ë½ì²˜")
    st.write("""
    ### ì—°ë½ì²˜ ì •ë³´
    - **ì´ë©”ì¼**: happyi0305@yonsei.ac.kr
    - **ì „í™”ë²ˆí˜¸**: 010-1234-5678
    - **ìœ„ì¹˜**: ì„œìš¸ì‹œ ì„œëŒ€ë¬¸êµ¬ ì—°ì„¸ë¡œ 50, ì—°ì„¸ëŒ€í•™êµ 325ë™(ì‚¼ì„±ê´€) 110í˜¸ ìƒí™œê³¼í•™ëŒ€í•™ ì‹¤ë‚´ê±´ì¶•í•™ê³¼ ì‚¬ë¬´ì‹¤
    """) 